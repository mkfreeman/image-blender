(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a(229)},125:function(e,t,a){},209:function(e,t,a){},212:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(7),o=a.n(r),l=(a(125),a(16)),s=a(10),c=a(20),d=a(17),u=a(19),h=a(104),g=a.n(h),m=(a(209),a(22)),p=a(111),f=a(258),v=a(256),y=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).onDrop.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"onDrop",value:function(e){var t=this,a=new FileReader;a.onload=function(){t.img=new Image,t.img.src=a.result,t.img.onload=function(){t.props.onUpload(t.img)}},e.forEach(function(e){return a.readAsDataURL(e)})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{cursor:"pointer"}},i.a.createElement(p.a,{onDrop:function(t){return e.onDrop(t)}},function(e){var t=e.getRootProps,a=e.getInputProps;return i.a.createElement("section",null,i.a.createElement("div",t({className:"dropzone"}),i.a.createElement("input",a()),i.a.createElement("p",null,i.a.createElement(v.a,null,i.a.createElement(f.a,{color:"primary",fontSize:"large"},"add_circle")),"Add an image")))}))}}]),t}(n.Component),b=a(112),E=(a(212),a(107)),w=a.n(E),C=a(259),x=a(261),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={angle:0},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"updateAngle",value:function(e){var t=this.props.radius+5-e.nativeEvent.offsetX,a=this.props.radius+5-e.nativeEvent.offsetY,n=Math.atan2(a,t)*(180/Math.PI)-90;this.props.onChange(n),this.setState({angle:n})}},{key:"calculatePosition",value:function(){var e=this.state.angle*Math.PI/180;return{x0:0,x1:this.props.radius*Math.sin(e),y0:0,y1:-this.props.radius*Math.cos(e)}}},{key:"render",value:function(){var e=this,t=this.calculatePosition();return i.a.createElement("svg",{style:{width:3*this.props.radius+5+"px",height:2*this.props.radius+5}},i.a.createElement("g",{transform:"translate(".concat(this.props.radius+5,", ").concat(this.props.radius+5,")")},i.a.createElement("circle",{r:this.props.radius,style:{opacity:.2},onMouseMove:function(t){return e.updateAngle(t)}}),i.a.createElement("line",{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1,style:{stroke:"black"}})))}}]),t}(n.Component);j.defaultProps={radius:50};var O=j;function k(e){var t=i.a.useState("left"),a=Object(b.a)(t,2),n=(a[0],a[1]);return i.a.createElement("div",{className:"container"},i.a.createElement("h2",null,"Image ",e.imageNum+1),i.a.createElement("span",{className:"controlLabel"},"Gradient Location"),i.a.createElement(w.a,{value:e.sliderValue,min:0,max:1,step:.01,onChange:function(t,a){return e.sliderChange(a)},style:{marginTop:"-25px",marginBottom:"-32px"}}),i.a.createElement("span",{className:"controlLabel"},"Gradient Direction"),i.a.createElement(x.a,{value:e.toggleValue,exclusive:!0,onChange:function(t,a){n(a),e.toggleChange(a)}},i.a.createElement(C.a,{value:"left"},"Left"),i.a.createElement(C.a,{value:"right"},"Right")),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("span",{className:"controlLabel"},"Rotation Angle"),i.a.createElement(O,{onChange:function(t){return e.angleChange(t)}}),i.a.createElement("hr",null))}var M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={gradient:.5,direction:"left",angle:0,fitToScreen:!0,width:window.innerWidth-250,height:window.innerHeight-20},a.handleControlChange.bind(Object(m.a)(a)),a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"getDimensions",value:function(e){var t=null,a=null;if(!0===this.state.fitToScreen){var n=e.naturalWidth/e.naturalHeight,i=this.state.width/this.state.height,r=Math.min(this.state.width/e.naturalWidth,this.state.height/e.naturalHeight);n>i?(t=Math.floor(this.state.width),a=Math.floor(e.naturalHeight*r)):(a=Math.floor(this.state.height),t=Math.floor(e.naturalWidth*r))}else a=e.naturalHeight,t=e.naturalWidth;return{width:t,height:a}}},{key:"drawCanvas",value:function(e){var t=document.getElementById(this.props.outputCanvas),a=this.getDimensions(e),n=a.width,i=a.height;t.width=n,t.height=i,this.ctx=t.getContext("2d"),this.gradient=this.ctx.createLinearGradient(0,i/2,n,i/2),"left"==this.state.direction?(this.gradient.addColorStop(this.state.gradient,"rgba(255, 255, 255, 0)"),this.gradient.addColorStop(1,"rgba(255, 255, 255, 1)")):(this.gradient.addColorStop(0,"rgba(255, 255, 255, 1)"),this.gradient.addColorStop(this.state.gradient,"rgba(255, 255, 255, 0)")),this.ctx.translate(n/2,i/2),this.ctx.rotate(this.state.angle*Math.PI/180),this.ctx.translate(-n/2,-i/2),this.ctx.drawImage(e,0,0,n,i),this.ctx.fillStyle=this.gradient,this.ctx.fillRect(0,0,n,i),"undefined"===typeof this.state.img&&(this.props.onAdd(),this.setState({img:e}))}},{key:"handleControlChange",value:function(e,t){var a={};a[e]=t,this.setState(a)}},{key:"render",value:function(){var e=this;return console.log(typeof this.state.img),"undefined"!==typeof this.state.img&&this.drawCanvas(this.state.img),i.a.createElement("div",null,"undefined"===typeof this.state.img&&i.a.createElement(y,{onUpload:function(t){return e.drawCanvas(t)}}),"undefined"!==typeof this.state.img&&i.a.createElement(k,{sliderChange:function(t){return e.handleControlChange("gradient",t)},sliderValue:this.state.gradient,toggleValue:this.state.direction,toggleChange:function(t){return e.handleControlChange("direction",t)},angleChange:function(t){return e.handleControlChange("angle",t)},imageNum:this.props.imageNum}))}}]),t}(n.Component),L=a(108),A=a.n(L),S=a(109),B=a(260),I=a(262),D=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","difference","exclusion","hue","saturation","color","luminosity"],N=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(d.a)(t).call(this,e))}return Object(u.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(I.a,{htmlFor:"blend-mode"},"Blending Technique"),i.a.createElement(B.a,{name:"blend-mode",value:this.props.value,onChange:function(t,a){return e.props.update(t.target.value)}},D.map(function(e){return i.a.createElement("option",{key:e,value:e},e.charAt(0).toUpperCase()+e.slice(1))})))}}]),t}(n.Component),W=a(110),P=a.n(W),H=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(d.a)(t).call(this,e))).state={imageLayers:1,blendMode:"multiply"},a}return Object(u.a)(t,e),Object(s.a)(t,[{key:"download",value:function(){A.a.toBlob(document.getElementById("canvasContainer")).then(function(e){Object(S.saveAs)(e,"blended-images.png")})}},{key:"addLayer",value:function(){this.setState({imageLayers:this.state.imageLayers+1})}},{key:"handleControlChange",value:function(e,t){var a={};a[e]=t,this.setState(a)}},{key:"render",value:function(){var e=this;return i.a.createElement(g.a,null,i.a.createElement("div",null,i.a.createElement("div",{id:"sideBar",style:{width:"240px",padding:"10px",height:"95vh"}},i.a.createElement("div",{id:"title"},i.a.createElement("h1",null,"Image Blender"),i.a.createElement("p",null,"Layer and blend images")),i.a.createElement("div",{id:"content"},Array.from(Array(this.state.imageLayers).keys()).map(function(t,a){return i.a.createElement(M,{imageNum:t,key:t,onAdd:function(){return e.addLayer()},outputCanvas:"canvas"+a})}),i.a.createElement("hr",null)),i.a.createElement(N,{value:this.state.blendMode,update:function(t){return e.handleControlChange("blendMode",t)}})),i.a.createElement("div",{id:"canvasContainer",style:{overflow:"hidden",top:"0px",left:"266px",position:"absolute",width:window.innerWidth-266,height:window.innerHeight-20,mixBlendMode:this.state.blendMode}},Array.from(Array(this.state.imageLayers).keys()).map(function(t,a){return i.a.createElement(P.a,{key:t,style:{cursor:"pointer"}},i.a.createElement("canvas",{id:"canvas"+a,style:{position:"absolute",top:"0px",left:"0px",mixBlendMode:e.state.blendMode}}))}),1===this.state.imageLayers&&i.a.createElement("div",{style:{width:.9*window.innerWidth-350,height:window.innerHeight-50,textAlign:"center",margin:"auto",verticalAlign:"middle"}},i.a.createElement("div",{style:{opacity:.6,backgroundColor:"#d3d3d3",height:"100vh",paddingTop:"50vh"}},i.a.createElement("div",null,"Use the control panel to upload and manipulate layers of draggable images.")))),i.a.createElement(v.a,{id:"download",color:"primary",variant:"contained",onClick:function(){return e.download()}},"Download")))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[120,1,2]]]);
//# sourceMappingURL=main.e48160e0.chunk.js.map