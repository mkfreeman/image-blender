(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){e.exports=a(230)},125:function(e,t,a){},209:function(e,t,a){},212:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),o=a.n(i),l=(a(125),a(15)),s=a(10),c=a(18),u=a(16),d=a(17),h=a(104),m=a.n(h),g=(a(209),a(22)),p=a(111),f=a(259),v=a(257),b=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onDrop.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"onDrop",value:function(e){var t=this,a=new FileReader;a.onload=function(){t.img=new Image,t.img.src=a.result,t.img.onload=function(){t.props.onUpload(t.img)}},e.forEach(function(e){return a.readAsDataURL(e)})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{cursor:"pointer"}},r.a.createElement(p.a,{onDrop:function(t){return e.onDrop(t)}},function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",t({className:"dropzone"}),r.a.createElement("input",a()),r.a.createElement("p",null,r.a.createElement(v.a,null,r.a.createElement(f.a,{color:"primary",fontSize:"large"},"add_circle")),"Add an image")))}))}}]),t}(n.Component),y=a(112),E=(a(212),a(107)),C=a.n(E),w=a(260),k=a(262),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={angle:0},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"updateAngle",value:function(e){var t=this.props.radius+5-e.nativeEvent.offsetX,a=this.props.radius+5-e.nativeEvent.offsetY,n=Math.atan2(a,t)*(180/Math.PI)-90;this.props.onChange(n),this.setState({angle:n})}},{key:"calculatePosition",value:function(){var e=this.state.angle*Math.PI/180;return{x0:0,x1:this.props.radius*Math.sin(e),y0:0,y1:-this.props.radius*Math.cos(e)}}},{key:"render",value:function(){var e=this,t=this.calculatePosition();return r.a.createElement("svg",{style:{width:3*this.props.radius+5+"px",height:2*this.props.radius+5}},r.a.createElement("g",{transform:"translate(".concat(this.props.radius+5,", ").concat(this.props.radius+5,")")},r.a.createElement("circle",{r:this.props.radius,style:{opacity:.2},onMouseMove:function(t){return e.updateAngle(t)}}),r.a.createElement("line",{x0:t.x0,x1:t.x1,y0:t.y0,y1:t.y1,style:{stroke:"black"}})))}}]),t}(n.Component);j.defaultProps={radius:50};var O=j;function x(e){var t=r.a.useState("left"),a=Object(y.a)(t,2),n=(a[0],a[1]);return r.a.createElement("div",{className:"container"},r.a.createElement("h2",null,"Image ",e.imageNum+1),r.a.createElement("span",{className:"controlLabel"},"Gradient Location"),r.a.createElement(C.a,{value:e.sliderValue,min:0,max:1,step:.01,onChange:function(t,a){return e.sliderChange(a)},style:{marginTop:"-25px",marginBottom:"-32px"}}),r.a.createElement("span",{className:"controlLabel"},"Gradient Direction"),r.a.createElement(k.a,{value:e.toggleValue,exclusive:!0,onChange:function(t,a){n(a),e.toggleChange(a)}},r.a.createElement(w.a,{value:"left"},"Left"),r.a.createElement(w.a,{value:"right"},"Right")),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",{className:"controlLabel"},"Rotation Angle"),r.a.createElement(O,{onChange:function(t){return e.angleChange(t)}}),r.a.createElement("hr",null))}var M=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={gradient:.5,direction:"left",angle:0,fitToScreen:!0,width:window.innerWidth-250,height:window.innerHeight-20},a.handleControlChange.bind(Object(g.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"getDimensions",value:function(e){var t=null,a=null;if(!0===this.state.fitToScreen){var n=e.naturalWidth/e.naturalHeight,r=this.state.width/this.state.height,i=Math.min(this.state.width/e.naturalWidth,this.state.height/e.naturalHeight);n>r?(t=Math.floor(this.state.width),a=Math.floor(e.naturalHeight*i)):(a=Math.floor(this.state.height),t=Math.floor(e.naturalWidth*i))}else a=e.naturalHeight,t=e.naturalWidth;return{width:t,height:a}}},{key:"drawCanvas",value:function(e){var t=document.getElementById(this.props.outputCanvas),a=this.getDimensions(e),n=a.width,r=a.height;t.width=n,t.height=r,this.ctx=t.getContext("2d"),this.gradient=this.ctx.createLinearGradient(0,r/2,n,r/2),"left"==this.state.direction?(this.gradient.addColorStop(this.state.gradient,"rgba(255, 255, 255, 0)"),this.gradient.addColorStop(1,"rgba(255, 255, 255, 1)")):(this.gradient.addColorStop(0,"rgba(255, 255, 255, 1)"),this.gradient.addColorStop(this.state.gradient,"rgba(255, 255, 255, 0)")),this.ctx.translate(n/2,r/2),this.ctx.rotate(this.state.angle*Math.PI/180),this.ctx.translate(-n/2,-r/2),this.ctx.drawImage(e,0,0,n,r),this.ctx.fillStyle=this.gradient,this.ctx.fillRect(0,0,n,r),"undefined"===typeof this.state.img&&(this.props.onAdd(),this.setState({img:e}))}},{key:"handleControlChange",value:function(e,t){var a={};a[e]=t,this.setState(a)}},{key:"render",value:function(){var e=this;return console.log(typeof this.state.img),"undefined"!==typeof this.state.img&&this.drawCanvas(this.state.img),r.a.createElement("div",null,"undefined"===typeof this.state.img&&r.a.createElement(b,{onUpload:function(t){return e.drawCanvas(t)}}),"undefined"!==typeof this.state.img&&r.a.createElement(x,{sliderChange:function(t){return e.handleControlChange("gradient",t)},sliderValue:this.state.gradient,toggleValue:this.state.direction,toggleChange:function(t){return e.handleControlChange("direction",t)},angleChange:function(t){return e.handleControlChange("angle",t)},imageNum:this.props.imageNum}))}}]),t}(n.Component),L=a(108),A=a.n(L),S=a(109),B=a(261),N=a(263),I=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","difference","exclusion","hue","saturation","color","luminosity"],D=function(e){function t(e){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(N.a,{htmlFor:"blend-mode"},"Blending Technique"),r.a.createElement(B.a,{name:"blend-mode",value:this.props.value,onChange:function(t,a){return e.props.update("blendMode",t.target.value)}},I.map(function(e){return r.a.createElement("option",{key:e,value:e,style:{cursor:"pointer"}},e.charAt(0).toUpperCase()+e.slice(1))})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement(N.a,{htmlFor:"color",style:{marginBottom:"3px",marginRight:"3px",display:"inline-block"}},"Background Color: "),r.a.createElement("input",{type:"color",name:"color",value:this.props.backgroundColor,onChange:function(t,a){return e.props.update("backgroundColor",t.target.value)}})))}}]),t}(n.Component),W=a(110),P=a.n(W),H=(a(229),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"footer-copyright"},r.a.createElement("div",{className:"container"},"\xa92019 Copyright ",r.a.createElement("a",{href:"http://mfviz.com/",target:"_blank",rel:"noopener noreferrer"},"Michael Freeman"),r.a.createElement("a",{className:"right",target:"_blank",href:"http://twitter.com/mf_viz",rel:"noopener noreferrer"},"@mf_viz"))))}}]),t}(n.Component)),R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={imageLayers:1,blendMode:"multiply",backgroundColor:"#d3d3d3"},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"download",value:function(){A.a.toBlob(document.getElementById("canvasContainer")).then(function(e){Object(S.saveAs)(e,"blended-images.png")})}},{key:"addLayer",value:function(){this.setState({imageLayers:this.state.imageLayers+1})}},{key:"handleControlChange",value:function(e,t){var a={};a[e]=t,this.setState(a)}},{key:"render",value:function(){var e=this;return r.a.createElement(m.a,null,r.a.createElement("div",null,r.a.createElement("div",{id:"sideBar",style:{width:"262px",height:"95vh"}},r.a.createElement("div",{id:"title"},r.a.createElement("h1",null,"Image Blender"),r.a.createElement("p",null,"Layer and blend images")),r.a.createElement("div",{id:"content"},Array.from(Array(this.state.imageLayers).keys()).map(function(t,a){return r.a.createElement(M,{imageNum:t,key:t,onAdd:function(){return e.addLayer()},outputCanvas:"canvas"+a})}),r.a.createElement("hr",null),r.a.createElement("br",null)),r.a.createElement(D,{backgroundColor:this.state.backgroundColor,value:this.state.blendMode,update:function(t,a){return e.handleControlChange(t,a)}})),r.a.createElement("div",{id:"canvasContainer",style:{overflow:"hidden",top:"10px",left:"276px",position:"absolute",width:window.innerWidth-285,height:window.innerHeight-30,mixBlendMode:this.state.blendMode,backgroundColor:this.state.backgroundColor}},Array.from(Array(this.state.imageLayers).keys()).map(function(t,a){return r.a.createElement(P.a,{key:t,style:{cursor:"pointer"}},r.a.createElement("canvas",{id:"canvas"+a,style:{position:"absolute",top:"0px",left:"0px",mixBlendMode:e.state.blendMode}}))}),1===this.state.imageLayers&&r.a.createElement("div",{style:{width:.8*window.innerWidth-350,height:window.innerHeight-50,textAlign:"center",margin:"auto",padding:"50px",verticalAlign:"middle"}},r.a.createElement("div",{style:{opacity:.6,backgroundColor:this.state.backgroundColor,height:"100vh",paddingTop:"50vh"}},r.a.createElement("div",null,"Use the control panel to upload and manipulate layers of draggable images.")))),r.a.createElement(v.a,{id:"download",color:"primary",variant:"contained",onClick:function(){return e.download()}},"Download")),r.a.createElement(H,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[120,1,2]]]);
//# sourceMappingURL=main.4c06883d.chunk.js.map